<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>12 Regras de Ouro ‚Äì Para um Ano Mais Seguro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: auto;
  background: #ffffff;
  padding: 25px;
  border-radius: 10px;
}

h1, h2 {
  text-align: center;
}

.hidden {
  display: none;
}

input, select {
  width: 100%;
  padding: 10px;
  margin-bottom: 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

button {
  background: #2e7d32;
  color: #fff;
  border: none;
  padding: 12px 18px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
}

button:hover {
  background: #256428;
}

.question {
  background: #fafafa;
  padding: 12px;
  border-radius: 6px;
  margin-bottom: 12px;
  border-left: 6px solid #ccc;
}

.question.correct {
  border-left-color: #2e7d32;
  background: #e8f5e9;
}

.question.wrong {
  border-left-color: #c62828;
  background: #fdecea;
}

.ranking {
  background: #f1f8e9;
  padding: 15px;
  border-radius: 8px;
  margin-top: 30px;
}

.msg {
  margin-top: 15px;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="container">

<h1>12 Regras de Ouro</h1>
<h2>Para um Ano Mais Seguro</h2>

<!-- LOGIN -->
<div id="login">
  <h3>Identifica√ß√£o do participante</h3>
  <input id="nome" placeholder="Nome completo">
  <select id="unidade">
    <option value="">Selecione a unidade</option>
    <option>SEDE</option>
    <option>HUC</option>
    <option>PAUC/CIS</option>
    <option>CQA/CCO</option>
    <option>AMPLIA</option>
    <option>CPS</option>
    <option>ADUC</option>
    <option>CCI</option>
  </select>
  <button onclick="start()">Iniciar Desafio</button>
  <div id="msgLogin" class="msg"></div>
</div>

<!-- JOGO -->
<div id="jogo" class="hidden">
  <h3 id="tituloRegra"></h3>
  <div id="perguntas"></div>
  <button onclick="concluir()">Concluir Regra</button>
  <div id="mensagem" class="msg"></div>
</div>

<!-- RANKING -->
<div class="ranking">
  <h3>üèÜ Ranking Geral (P√∫blico)</h3>
  <div id="ranking"></div>
</div>

</div>

<script>
let jogador = {};
let pontos = 0;

const regra1 = {
  titulo: "Regra 01 ‚Äì Aten√ß√£o no Trajeto",
  perguntas: [
    { t: "Manter aten√ß√£o no trajeto reduz acidentes.", correta: true },
    { t: "Usar o celular ao caminhar n√£o traz riscos.", correta: false },
    { t: "Distra√ß√£o aumenta a chance de quedas.", correta: true },
    { t: "Cansa√ßo n√£o interfere na seguran√ßa.", correta: false },
    { t: "Olhar o caminho ajuda a identificar riscos.", correta: true },
    { t: "Ignorar obst√°culos √© seguro.", correta: false }
  ]
};

function start() {
  const nome = document.getElementById("nome").value.trim();
  const unidade = document.getElementById("unidade").value;

  if (!nome || !unidade) {
    document.getElementById("msgLogin").innerText =
      "‚ö†Ô∏è Preencha nome e unidade.";
    return;
  }

  jogador = { nome, unidade };
  pontos = 0;

  document.getElementById("login").classList.add("hidden");
  document.getElementById("jogo").classList.remove("hidden");

  carregarRegra();
}

function carregarRegra() {
  document.getElementById("tituloRegra").innerText = regra1.titulo;
  const div = document.getElementById("perguntas");
  div.innerHTML = "";

  regra1.perguntas.forEach((p, i) => {
    div.innerHTML += `
      <div class="question">
        <p>${i + 1}. ${p.t}</p>
        <label><input type="radio" name="q${i}" value="true"> Verdadeiro</label><br>
        <label><input type="radio" name="q${i}" value="false"> Falso</label>
      </div>
    `;
  });
}

function concluir() {
  const questions = document.querySelectorAll(".question");

  questions.forEach((q, i) => {
    const marcada = document.querySelector(
      `input[name="q${i}"]:checked`
    );
    if (marcada && (marcada.value === "true") === regra1.perguntas[i].correta) {
      pontos += 10;
      q.classList.add("correct");
    } else {
      q.classList.add("wrong");
    }
  });

  salvarRanking();
  document.getElementById("mensagem").innerText =
    `Regra conclu√≠da! Pontua√ß√£o: ${pontos} pontos.`;
}

function salvarRanking() {
  let ranking = JSON.parse(localStorage.getItem("ranking")) || [];

  ranking.push({
    nome: jogador.nome,
    unidade: jogador.unidade,
    pontos: pontos,
    data: new Date().toLocaleString("pt-BR")
  });

  localStorage.setItem("ranking", JSON.stringify(ranking));
  carregarRanking();
}

function carregarRanking() {
  let ranking = JSON.parse(localStorage.getItem("ranking")) || [];
  ranking.sort((a, b) => b.pontos - a.pontos);

  let html = "<ol>";
  ranking.forEach(r => {
    html += `<li>${r.nome} (${r.unidade}) ‚Äì ${r.pontos} pts</li>`;
  });
  html += "</ol>";

  document.getElementById("ranking").innerHTML = html;
}

carregarRanking();
</script>

</body>
</html>

